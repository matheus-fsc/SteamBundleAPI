# =====================================
# CONFIGURAÇÃO DE PERFORMANCE OTIMIZADA PARA RENDER FREE
# =====================================
NODE_ENV=production
PORT=3000
TIMEZONE=America/Sao_Paulo

# API Key para proteger endpoints administrativos
# Gere uma chave segura: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
API_KEY=sua_api_key_super_secreta_aqui

# =====================================
# CONFIGURAÇÃO ALTA PERFORMANCE (Recomendada)
# Otimizada para Render Free (0.1 vCPU, 500MB RAM)
# =====================================

# Fetch Bundles (coleta da lista básica)
FETCH_BUNDLES_CONCURRENT=2      # 2 requisições paralelas
FETCH_BUNDLES_DELAY=1500        # 1.5 segundos entre lotes
FETCH_BUNDLES_TIMEOUT=15000     # 15s timeout

# Update Bundles (detalhes das bundles) - OTIMIZADO
STEAM_API_DELAY=1000            # 1 segundo entre bundles
STEAM_APP_DELAY=300             # 300ms entre apps
MAX_APPS_PER_BUNDLE=30          # Máximo 30 apps por bundle
REQUEST_TIMEOUT=15000           # 15s timeout
MAX_RETRIES=3                   # 3 tentativas por erro
PARALLEL_BUNDLES=4              # 4 bundles paralelas
APP_BATCH_SIZE=5                # 5 apps por lote
SKIP_DETAILS_THRESHOLD=60       # Pula bundles com +60 apps

# =====================================
# CONFIGURAÇÕES ALTERNATIVAS
# =====================================

# CONSERVADORA - Use se houver problemas de rate limiting ou timeout
# PARALLEL_BUNDLES=2
# STEAM_API_DELAY=2000
# FETCH_BUNDLES_DELAY=3000
# SKIP_DETAILS_THRESHOLD=50

# AGRESSIVA - Máxima velocidade (use apenas se estável)
# PARALLEL_BUNDLES=6
# STEAM_API_DELAY=800
# STEAM_APP_DELAY=200
# FETCH_BUNDLES_DELAY=1000
# SKIP_DETAILS_THRESHOLD=80

# =====================================
# CONFIGURAÇÕES DE RATE LIMITING
# =====================================
MAX_CONCURRENT_REQUESTS=5
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100
ADMIN_RATE_LIMIT_MAX=5

# URL Externa do Render (automaticamente detectada)
# RENDER_EXTERNAL_URL=https://steambundleapi.onrender.com
